<!DOCTYPE html><html lang="en"><head><link href="http://fonts.googleapis.com/css?family=PT+Sans:400,700|PT+Serif:400,700" rel="stylesheet" type="text/css"><!-- Meta--><meta charset="utf-8"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Minimal JBoss AS 5.1 configuration | Brisk Bee</title><meta name="description" content="Casual rants on mobile development"><meta name="keywords" content="briskbee, haldbæk, peter haldbæk, peter haldbaek, iphone, ios, android, findantenna, dvb-t, java, mobile, development"><meta name="author" content="Peter Haldbæk"><meta name="generator" content="DocPad v6.78.6" /><meta name="viewport" content="width=device-width"><!-- Icons--><link rel="shortcut icon" href="/ico/favicon.ico"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/ico/apple-touch-icon-144-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/ico/apple-touch-icon-114-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/ico/apple-touch-icon-72-precomposed.png"><link rel="apple-touch-icon-precomposed" href="/ico/apple-touch-icon-57-precomposed.png"><!--if lt IE 9script(async src="http://html5shim.googlecode.com/svn/trunk/html5.js")
--><!-- Styles--><link  rel="stylesheet" href="/vendor/prettify.css" /><link  rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.min.css" /><link  rel="stylesheet" href="/styles/style.css" /></head><body><!-- Markup--><header><div class="container"><div class="row"><div class="col-md-2 visible-md visible-lg"></div><div class="col-md-8"><div class="background"><div class="top"><a href="/">Brisk Bee</a></div><nav class="topmenu"><ul class="list-inline"><li class="active"><a href="/">BLOG</a></li><li typeof="sioc:Page" about="/pages/about/"><a href="/pages/about/" property="dc:title">About</a></li></ul></nav></div></div><div class="col-md-2 visible-md visible-lg"></div></div></div></header><div class="container"><div class="row"><div class="col-md-2"></div><div class="col-md-8"><section id="content" class="content"><article id="post" class="post"><h1>Minimal JBoss AS 5.1 configuration</h1><div class="pubdate">Published June 24th 2010</div><div class="post-content"><p>When I deploy applications on the JBoss AS platform I normally just use the default profile provided by Red Hat. JBoss AS 5.1 is however horrendously slow when starting up so I decided to look into the other (lesser) profiles to see if this would speed things up a bit. I am running a standard web application (packaged as a .war file) based on JSF 1.2 (Sun RI) and Hibernate which accesses an Oracle database.</p>
<p>JBoss AS 5.1 comes with 5 profiles; all, default, minimal, standard and web. I decided to use the web profile since this one (supposedly) supports jdbc and web applications out of the box. As you might guess this was not my experience at first hand since the profile would not recognize my datasource. It came up short with this error message:</p>
<pre><code>16:03:47,718 ERROR [ProfileServiceBootstrap] Failed to load profile: Summary of incomplete deployments (SEE PREVIOUS ERRORS FOR DETAILS):

DEPLOYMENTS MISSING DEPENDENCIES:
  Deployment &quot;jboss.jca:name=jdbc/mydatasource,service=DataSourceBinding&quot; is missing the following dependencies:
    Dependency &quot;jboss:service=invoker,type=jrmp&quot; (should be in state &quot;Create&quot;, but is actually in state &quot;** NOT FOUND Depends on &#39;jboss:service=invoker,type=jrmp&#39; **&quot;)

DEPLOYMENTS IN ERROR:
  Deployment &quot;jboss:service=invoker,type=jrmp&quot; is in error due to the following reason(s): ** NOT FOUND Depends on &#39;jboss:service=invoker,type=jrmp&#39; **
</code></pre><p>The solution to this was to copy the <code>legacy-invokers-service.xml</code> file from the default profile directory into the web profile directory and everything deployed nicely and worked as expected. The end result? Before startup would take 54 seconds, now it is down to 12 seconds. And this could probably be optimized more by removing additional unused elements (like support for Hypersonic databases).</p>
</div><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'briskbee'; // required: replace example with your forum shortname
var disqus_identifier = 'minimal_jboss_as_5_1_configuration';
var disqus_title = 'Minimal JBoss AS 5.1 configuration';
var disqus_url = 'http://www.briskbee.com/posts/minimal_jboss_as_5_1_configuration';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the<a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by<span class="logo-disqus">Disqus</span></a></article><section id="related"><h3>Related Posts</h3><nav class="linklist"><li><a href="/posts/eclipse_and_jboss_as_5_1_with_minimal_configuration/">Eclipse and JBoss AS 5.1 with minimal configuration</a> &nbsp;<span class="pubdate">June 25th 2010</span></li><li><a href="/posts/hibernate__oracle__hsqldb_and_sequences/">Hibernate, Oracle, HSQLDB and sequences</a> &nbsp;<span class="pubdate">September 22nd 2011</span></li><li><a href="/posts/changing_unnamed_constraints_in_play_/">Changing unnamed constraints in Play!</a> &nbsp;<span class="pubdate">August 11th 2012</span></li><li><a href="/posts/concrete_-_my_very_own_android_orm/">Concrete - My very own Android ORM</a> &nbsp;<span class="pubdate">October 28th 2010</span></li><li><a href="/posts/conferences/">Conferences</a> &nbsp;<span class="pubdate">January 16th 2010</span></li><li><a href="/posts/android_and_xml_parsers/">Android and XML parsers</a> &nbsp;<span class="pubdate">July 1st 2010</span></li><li><a href="/posts/cpu_spikes_on_jboss_as_5_1/">CPU spikes on JBoss AS 5.1</a> &nbsp;<span class="pubdate">June 29th 2010</span></li><li><a href="/posts/accessing_memory_database_in_play_/">Accessing memory database in Play!</a> &nbsp;<span class="pubdate">September 11th 2012</span></li><li><a href="/posts/jsf_and_onload_for_jdk_1_4/">JSF and OnLoad for JDK 1.4</a> &nbsp;<span class="pubdate">August 7th 2008</span></li><li><a href="/posts/mockito__static_imports_and_eclipse/">Mockito, static imports and Eclipse</a> &nbsp;<span class="pubdate">March 26th 2011</span></li><li><a href="/posts/options_for__rest_framework/">Options for  REST framework</a> &nbsp;<span class="pubdate">August 3rd 2010</span></li><li><a href="/posts/setting_up_a_datasource_in_jndi/">Setting up a datasource in JNDI</a> &nbsp;<span class="pubdate">July 26th 2010</span></li><li><a href="/posts/speeding_up_unit_tests_using_in-memory_database/">Speeding up unit tests using in-memory database</a> &nbsp;<span class="pubdate">September 27th 2010</span></li><li><a href="/posts/test_dependencies_in_maven/">Test dependencies in Maven</a> &nbsp;<span class="pubdate">August 26th 2010</span></li><li><a href="/posts/using_java_visualvm_with_jboss_as_5_1/">Using Java VisualVM with JBoss AS 5.1</a> &nbsp;<span class="pubdate">June 29th 2010</span></li></nav></section></section></div><div class="col-md-2"></div></div></div><footer><div class="container"><div class="row"><div class="col-md-2 visible-md visible-lg"></div><div class="col-md-8"><ui class="list-inline"><li><a href="/pages/about">About</a></li></ui><div class="pull-right">© Brisk Bee 2018</div></div><div class="col-md-2 visible-md visible-lg"></div></div></div></footer><!-- Scripts--><script defer="defer"  src="/vendor/prettify.js"></script><script defer="defer"  src="/vendor/jquery/jquery.min.js"></script><script defer="defer"  src="/vendor/bootstrap/js/bootstrap.min.js"></script><script defer="defer"  src="/vendor/log.js"></script><script defer="defer"  src="/vendor/modernizr.js"></script><script defer="defer"  src="/scripts/script.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-18789185-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>