<!DOCTYPE html><html lang="en"><head><link href="http://fonts.googleapis.com/css?family=PT+Sans:400,700|PT+Serif:400,700" rel="stylesheet" type="text/css"><!-- Meta--><meta charset="utf-8"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Blog | Brisk Bee</title><meta name="description" content="Casual rants on mobile development"><meta name="keywords" content="briskbee, haldbæk, peter haldbæk, peter haldbaek, iphone, ios, android, findantenna, dvb-t, java, mobile, development"><meta name="author" content="Peter Haldbæk"><meta name="generator" content="DocPad v6.78.6" /><meta name="viewport" content="width=device-width"><!-- Icons--><link rel="shortcut icon" href="/ico/favicon.ico"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/ico/apple-touch-icon-144-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/ico/apple-touch-icon-114-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/ico/apple-touch-icon-72-precomposed.png"><link rel="apple-touch-icon-precomposed" href="/ico/apple-touch-icon-57-precomposed.png"><!--if lt IE 9script(async src="http://html5shim.googlecode.com/svn/trunk/html5.js")
--><!-- Styles--><link  rel="stylesheet" href="/vendor/prettify.css" /><link  rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.min.css" /><link  rel="stylesheet" href="/styles/style.css" /></head><body><!-- Markup--><header><div class="container"><div class="row"><div class="col-md-2 visible-md visible-lg"></div><div class="col-md-8"><div class="background"><div class="top"><a href="/">Brisk Bee</a></div><nav class="topmenu"><ul class="list-inline"><li class="active"><a href="/">BLOG</a></li><li typeof="sioc:Page" about="/pages/about/"><a href="/pages/about/" property="dc:title">About</a></li></ul></nav></div></div><div class="col-md-2 visible-md visible-lg"></div></div></div></header><div class="container"><div class="row"><div class="col-md-2"></div><div class="col-md-8"><section id="content" class="content"><ul class="posts"><li><article id="doc" class="even post"><h1><a href="/posts/apex_mw-100/">Apex MW-100</a></h1><div class="pubdate">Published April 30th 2009</div><div class="post-content"><p>Just found this interesting case for mini-ITX boards. There is no room for any PCI cards but it sure is compact!</p>
<p><a href="http://www.apextechusa.com/products.asp?pID=157">Apex MW-100</a></p>
<p><img src="/posts/apex_mw-100/mw100main.jpg" alt=""></p>
</div></article></li><li><article id="doc" class="odd post"><h1><a href="/posts/htpc_hdd/">HTPC HDD</a></h1><div class="pubdate">Published April 23rd 2009</div><div class="post-content"><p>So here is a quick look at the hard drives I have been looking at.</p>
<h2 id="seagate-momentus-5400-6-500-gb">Seagate Momentus 5400.6 500 GB</h2>
<ul>
<li>Pros: 2.5&quot;, low power consumption, silent</li>
<li>Cons: Expensive</li>
</ul>
<h2 id="western-digital-scorpio-blue-500-gb">Western Digital Scorpio Blue 500 GB</h2>
<ul>
<li>Pros: 2.5&quot;, low power consumption, silent</li>
<li>Cons: Expensive</li>
</ul>
<h2 id="hdd-samsung-spinpoint-f1-hd753lj-750gb">HDD - Samsung SpinPoint F1 HD753LJ 750GB</h2>
<ul>
<li>Pros: Silent, cheap</li>
<li>Cons: 2.5&quot; hard drives are more quiet (but also more expensive), 3.5&quot;</li>
</ul>
</div></article></li><li><article id="doc" class="even post"><h1><a href="/posts/htpc_cases/">HTPC cases</a></h1><div class="pubdate">Published April 23rd 2009</div><div class="post-content"><p>Here is a quick list of cases I have been looking at for my HTPC:</p>
<h2 id="antec-nsk2480">Antec NSK2480</h2>
<p><a href="http://www.antec.com/Believe_it/product.php?id=MzI="><img src="/posts/htpc_cases/NSK2400_f.jpg" alt="Antec NSK2480"></a></p>
<ul>
<li>Pros: Cheap, ships with a PSU, very silent, good cooling, spacious inside, good fans, easy to customize</li>
<li>Cons: Plastic front, no VFD, no IR, no card reader, fitting an optical drive probably ruins the aesthetics, big, visible ports</li>
</ul>
<h2 id="antec-fusion-remote">Antec Fusion Remote</h2>
<p><a href="http://www.antec.com/Believe_it/product.php?id=NzE3"><img src="/posts/htpc_cases/Fusion_new_f.jpg" alt="Antec Fusion Remote"></a></p>
<ul>
<li>Pros: Great design, good cooling, spacious inside, good fans, very silent, optical drive hidden</li>
<li>Cons: No PSU, no card reader, a little expensive, IR not very responsive, big, visible ports</li>
</ul>
<h2 id="silverstone-lc19r">Silverstone LC19R</h2>
<p><a href="http://www.silverstonetek.com/products/p_spec.php?pno=lc19&amp;area=usa"><img src="/posts/htpc_cases/LC19-3-4.jpg" alt="Silverstone LC19R"></a></p>
<ul>
<li>Pros: Tiny, card reader, ports hidden, ships with a fanless PSU</li>
<li>Cons: A little expensive, not a lot of cooling because of the cramped space, only space for one PCI card, the PSU is only 120W, external PSU, optical drive must be slim</li>
</ul>
</div></article></li><li><article id="doc" class="odd post"><h1><a href="/posts/mythtv_setup/">MythTV setup</a></h1><div class="pubdate">Published March 14th 2009</div><div class="post-content"><p>I have considered building my own media center for a long time and have finally had the time to look into the hardware requirements for running <a href="http://www.mythtv.org/">MythTV</a>. Originally I wanted to build around a mini-ITX motherboard but most of them lacked a lot in performance since I wanted my system to be able to play and record full HD (1080p). Most mini-ITX cases I looked at were really cool because of their tiny size but had on the other hand some serious issues when it came to cooling so I ended up looking at micro-ATX motherboards instead. I also wanted the system to be power efficent so there has to be a balance between power utilization and efficiency.</p>
<p>Here is what I have come up with so far for a combined backend/frontend:</p>
<h2 id="motherboard-asus-m3n78-vm">Motherboard - Asus M3N78-VM</h2>
<ul>
<li>Pros: nVidia 8200 chipset which supports VDPAU, HDMI.</li>
<li>Cons: no TV-out, micro-ATX (not really an issue I just really wanted to go the mini-ITX way but have not found a motherboard I really liked yet, the Jetway JNC62K could be an option though), no support for undervolting in BIOS</li>
</ul>
<h2 id="cpu-amd-athlon-x2-4850e">CPU - AMD Athlon X2 4850e</h2>
<ul>
<li>Pros: Fast, cheap, power efficent considering the speed.</li>
<li>Cons: Maybe a little overkill for running MythTV but I want the machine to be able to emulate games (C64, Amiga 500, Mame, PSX) so I guess some processing power does not hurt.</li>
</ul>
<h2 id="memory-kingston-hyperx-2gb-ddr2-1066">Memory - Kingston HyperX 2GB DDR2 1066</h2>
<ul>
<li>Pros: Cheap.</li>
<li>Cons: I could probably use memory with lower speed.</li>
</ul>
<h2 id="hdd-samsung-spinpoint-f1-hd753lj-750gb">HDD - Samsung SpinPoint F1 HD753LJ 750GB</h2>
<ul>
<li>Pros: Low noise.</li>
<li>Cons: 2.5&quot; hard drives are more quiet (but also more expensive).</li>
</ul>
<h2 id="tv-tuner-hauppauge-wintv-nova-t-500-pci">TV tuner - Hauppauge WinTV Nova-T-500 PCI</h2>
<ul>
<li>Pros: Dual tuner card, supports DVB-T (digital), IR remote control included, cheap.</li>
<li>Cons: Unclear if it supports MPEG-4.</li>
</ul>
<h2 id="dvd-burner-pioneer-dvr-216dbk">DVD burner - Pioneer DVR 216DBK</h2>
<ul>
<li>Pros: Cheap, relatively low noise.</li>
<li>Cons: Not that silent but few DVD players are (if any at all).</li>
</ul>
<h2 id="case-antec-nsk2480">Case - Antec NSK2480</h2>
<ul>
<li>Pros: Stylish design, cheap, effective cooling, PSU included.</li>
<li>Cons: Big, no VFD, no IR.</li>
</ul>
<h2 id="psu-sparkle-power-fsp200-50snv">PSU - Sparkle Power FSP200-50SNV</h2>
<ul>
<li>Pros: Cheap, low noise</li>
<li>Cons: Not 80 Plus</li>
</ul>
<p>All in all this system will cost me around DKK 3700 (~EUR 500) which is not that bad considering how stylish the system is and how much functionality it offers.</p>
</div></article></li><li><article id="doc" class="even post"><h1><a href="/posts/jsf_and_onload_for_jdk_1_4/">JSF and OnLoad for JDK 1.4</a></h1><div class="pubdate">Published August 7th 2008</div><div class="post-content"><p>Calling a method in a bean when a JSF page is hit is often a needed requirement when doing JSF. This is however not something you get out of the box unfortunately and you need to look at solutions outside of the scope of the JSF specification. Frameworks like <a href="http://www.seamframework.org/">Seam</a> and <a href="http://shale.apache.org/">Shale</a> does address this but if you only need this functionality in one or two places it might seem a little overkill to include frameworks like these. Instead I discovered the <a href="http://jsf-comp.sourceforge.net/components/onload/index.html">JSF On-Load Action Listener</a> from jsf-comp which does excactly what I want.</p>
<p>If I use JDK 5 or later.</p>
<p>Which I don&#39;t.</p>
<p>I use 1.4 so I decided to take a quick glance at the code and realized it was not that tricky to convert into something my compiler liked. So here is the JDK 1.4 compatible version of the JSF On-Load Action Listener. Enjoy! :)</p>
<pre><code>/*
 * Copyright 2004 The Apache Software Foundation.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * 
 * --
 * 
 * $Log$
 * Revision 1.1  2005/11/07 04:23:26  arobinson74
 * Initial revision
 */
package net.sf.jsfcomp.ext.onload;

import java.io.InputStream;
import java.util.ArrayList;
import java.util.Collections;
import java.util.Iterator;
import java.util.List;

import javax.faces.FacesException;
import javax.faces.context.FacesContext;
import javax.faces.el.MethodBinding;
import javax.faces.event.PhaseEvent;
import javax.faces.event.PhaseId;
import javax.faces.event.PhaseListener;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.dom4j.Document;
import org.dom4j.Element;
import org.dom4j.io.SAXReader;

/**
 * This class allows for actions to be run on the load of a JSF page. When a
 * page is requested or a page is being redirected to due to a result of JSF
 * navigation action result, this phase listener intercepts the call. Based on
 * the configuration of on load phase listener, actions can be invoked based on
 * the requested view ID.
 * &amp;lt;p&amp;gt;
 * The configuration of the phase listener is needed. Inside of the web.xml file
 * of the application, the onload-rules context property must be given. This
 * value should be a URL to where to find the XML file with the configuration
 * information.
 * &amp;lt;/p&amp;gt;
 * Example:
 * 
 * &amp;lt;pre&amp;gt;
 * &amp;amp;lt;context-param&amp;amp;gt;
 *  &amp;amp;lt;param-name&amp;amp;gt;onload-rules&amp;amp;lt;/param-name&amp;amp;gt;
 *  &amp;amp;lt;param-value&amp;amp;gt;/WEB-INF/onload-rules.xml&amp;amp;lt;/param-value&amp;amp;gt;
 * &amp;amp;lt;/context-param&amp;amp;gt;
 * &amp;lt;/pre&amp;gt;
 * 
 * &amp;lt;p&amp;gt;
 * The XML file must use the onload-rules.xsd schema. An example file and the
 * schema is included in the release.
 * &amp;lt;/p&amp;gt;
 * &amp;lt;p&amp;gt; 
 * The &#39;view-id&#39; element of the configuration has the same functionality of the
 * NavigationHandler behavior. The view ID value of the XML element must be
 * exactly the view ID or part of the view ID followed by the &#39;*&#39; character. To
 * match all views, use a &#39;*&#39; as the view-id element value
 * &amp;lt;/p&amp;gt;
 * 
 * @version $Revision: 649 $
 * @author $Author: arobinson74 $
 */
public class OnLoadPhaseListener implements PhaseListener {
  private final static long serialVersionUID = 1l;
  private static Log logger = LogFactory.getLog(OnLoadPhaseListener.class);
  private List rules; // contains objects of type NavigationRule

  /**
   * Default constructor
   */
  public OnLoadPhaseListener() {
    logger.info(&quot;OnLoadPhaseListener created&quot;);
  }

  /* (non-Javadoc)
   * @see javax.faces.event.PhaseListener#afterPhase(javax.faces.event.PhaseEvent)
   */
  public void afterPhase(PhaseEvent event) {
    // nothing to do here
  }

  /* (non-Javadoc)
   * @see javax.faces.event.PhaseListener#beforePhase(javax.faces.event.PhaseEvent)
   */
  public void beforePhase(PhaseEvent event) {
    processOnLoad(event.getFacesContext(), event.getFacesContext()
     .getViewRoot().getViewId());
  }

  /* (non-Javadoc)
   * @see javax.faces.event.PhaseListener#getPhaseId()
   */
  public PhaseId getPhaseId() {
    return PhaseId.RENDER_RESPONSE;
  }

  /**
   * Allows someone to extend this class and handle any events they want to
   * accomplish before the control is handed to the navigation handler. This
   * function is only invoked when the result of the on load action is not
   * null and is not equal to the success result
   * 
   * @param requestedViewId The original requested view ID
   * @param onLoadAction The action that was invoked on load
   * @param onLoadActionResult The on load actions result
   * @return true to let the control be passed to the navigation handler,
   *         false to abort the processing and let the current (requested)
   *         view be rendered
   */
  protected boolean beforeHandleNavigation(String requestedViewId,
    String onLoadAction, String onLoadActionResult) {
    return true;
  }

  private void processOnLoad(FacesContext ctx, String viewId) {
    NavigationRule rule;

    // ensure the settings have been loaded
    initialize();

    logger.debug(&quot;Processing on load of view &quot; + viewId);
    rule = getRule(viewId);
    if (rule == null) {
      logger.debug(&quot;No rule found for view &quot; + viewId);
      return;
    } else
      processRule(ctx, rule, viewId);
  }

  private NavigationRule getRule(String viewId) {
    logger.debug(&quot;Looking for rule for view &quot; + viewId);
    for (Iterator iter = rules.iterator(); iter.hasNext();) {
      NavigationRule rule = (NavigationRule) iter.next();
      String rViewId = rule.getViewId();

      // check for exact match
      logger.debug(&quot;Checking for exact match. Rule view: &quot; + rViewId);
      if (rViewId.equals(viewId)) {
        logger.info(&quot;Found rule with exact match&quot;);
        return rule;
      }

      // see if the rule ends with a wildcard
      if (rule.getViewId().endsWith(&quot;*&quot;) == false)
        continue;

      String ruleViewPrefix = rule.getViewId();
      ruleViewPrefix = ruleViewPrefix.substring(0, ruleViewPrefix
        .length() - 1);
      logger.debug(&quot;Checking if view starts with &quot; + ruleViewPrefix);

      if (viewId.startsWith(ruleViewPrefix) == false)
        continue;

      logger.debug(&quot;Found rule for viewId path &quot; + rule.getViewId());
      return rule;
    }

    return null;
  }

  private void processRule(FacesContext ctx, NavigationRule rule,
    String viewId) {
    MethodBinding method = ctx.getApplication().createMethodBinding(
      rule.getAction(), new Class[0]);

    if (method == null) {
      logger.warn(&quot;No method found for rule action &quot; + rule.getAction());
      return;
    }

    logger.debug(&quot;Invoking action: &quot; + rule.getAction());

    Object result = method.invoke(ctx, new Object[0]);

    if (result != null &amp;amp;&amp;amp; (result instanceof String)) {
      if (result.equals(rule.successResult) == false) {
        // allow sub classes to abort the navigation
        if (beforeHandleNavigation(viewId, rule.getAction(),
          (String) result) == false) {
          logger
            .info(&quot;Before handle navigation has aborted the on load &quot;
            + &quot;navigation&quot;);
          return;
        }
        logger.debug(&quot;Calling navigation handler with result: &quot;
          + result);

        // let the navigation handler implementation handle the rest of the load
        ctx.getApplication().getNavigationHandler().handleNavigation(
          ctx, rule.getAction(), (String) result);

        // shouldn&#39;t be necessary, but make sure the render response is called
        // if the request wasn&#39;t redirected
        if (!ctx.getResponseComplete())
          ctx.renderResponse();
      } else
        logger.debug(&quot;Result is equal to the success result. Result: &quot;
          + rule.successResult);
    } else {
      if (logger.isDebugEnabled())
        logger
         .debug(&quot;Result from rule is null or not a string. Result: &quot;
         + result);
    }
  }

  private void initialize() {
    if (this.rules != null)
      return;
    loadConfiguration();
  }

  private synchronized void loadConfiguration() {
    if (this.rules != null)
      return;
    this.rules = new ArrayList(); // contains objects of type NavigationRule
    FacesContext ctx = FacesContext.getCurrentInstance();
    String url = ctx.getExternalContext().getInitParameter(&quot;onload-config&quot;);

    try {
      if (url == null) {
        String msg = &quot;The external context did not have the &#39;onload-rules&#39; initialization &quot;
          + &quot;parameter. Please check your configuration.&quot;;
        logger.error(msg);
        throw new FacesException(msg);
      }

      logger.info(&quot;On Load configuration is being loaded from &quot; + url);
      InputStream configStream = FacesContext.getCurrentInstance()
        .getExternalContext().getResourceAsStream(url);

      // get the XML parsing structure
      Document xml = new SAXReader().read(configStream);
      Element root = xml.getRootElement();

      // pars out the rules
      List rules = root.elements(&quot;navigation-rule&quot;);
      logger.info(rules.size() + &quot; rule(s) have been found&quot;);

      for (Iterator iter = rules.iterator(); iter.hasNext();) {
        // for (Element rule : toGenericIterable(rules, Element.class))
        Element rule = (Element) iter.next();
        this.rules.add(new NavigationRule(rule
          .elementTextTrim(&quot;view-id&quot;), rule
          .elementTextTrim(&quot;action&quot;), rule
          .elementTextTrim(&quot;success-result&quot;)));
      }

      Collections.sort(this.rules);
      if (logger.isDebugEnabled()) {
        for (Iterator iter = rules.iterator(); iter.hasNext();) {
          // for (NavigationRule rule : this.rules)
          NavigationRule rule = (NavigationRule) iter.next();
          logger.debug(&quot;Rule: &quot; + rule);
        }
      }
    } catch (Exception ex) {
      logger.error(&quot;Failed to parse onload configuration&quot;, ex);
    }
  }

  private class NavigationRule implements Comparable {
    private String action;
    private String viewId;
    private String successResult;

    NavigationRule(String viewId, String action, String successResult) {
      this.viewId = viewId;
      this.action = action;
      this.successResult = successResult;
    }

    /**
     * @return Returns the successResult.
     */
    String getSuccessResult() {
      return this.successResult;
    }

    /**
     * @return Returns the action.
     */
    String getAction() {
      return this.action;
    }

    /**
     * @return Returns the fromViewId.
     */
    String getViewId() {
      return this.viewId;
    }

    public String toString() {
      return &quot;view-id: &quot; + viewId + &quot;, action: &quot; + action + &quot;, success-result: &quot; + successResult;
    }

    /* (non-Javadoc)
     * @see java.lang.Comparable#compareTo(T)
     */
    public int compareTo(Object o) {
      if (o instanceof NavigationRule) {
        NavigationRule rule = (NavigationRule) o;

        // sort longest to shortest
        return viewId.compareTo(rule.getViewId()) * -1;
      }

      return -1;
    }
  }
}

</code></pre></div></article></li></ul><ul class="pager"><li class="previous"><a href="/8">Newer</a></li><li class="next"><a href="/10">Older</a></li></ul><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'briskbee'; // required: replace example with your forum shortname
var disqus_identifier = 'index';
var disqus_title = 'Blog';
var disqus_url = 'http://briskbee.com/9';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());</script></section></div><div class="col-md-2"></div></div></div><footer><div class="container"><div class="row"><div class="col-md-2 visible-md visible-lg"></div><div class="col-md-8"><ui class="list-inline"><li><a href="/pages/about">About</a></li></ui><div class="pull-right">© Brisk Bee 2018</div></div><div class="col-md-2 visible-md visible-lg"></div></div></div></footer><!-- Scripts--><script defer="defer"  src="/vendor/prettify.js"></script><script defer="defer"  src="/vendor/jquery/jquery.min.js"></script><script defer="defer"  src="/vendor/bootstrap/js/bootstrap.min.js"></script><script defer="defer"  src="/vendor/log.js"></script><script defer="defer"  src="/vendor/modernizr.js"></script><script defer="defer"  src="/scripts/script.js"></script><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-18789185-3']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>